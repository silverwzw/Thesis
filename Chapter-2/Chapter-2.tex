\chapter{Related work}
\label{chap:related_work}

    In the past, a lot of research eﬀort has been invested in customized file systems, noSQL database and snapshots. Several of them are related to this thesis and they are summarized in this chapter.

\section{POSIX}

    POSIX, an acronym for "Portable Operating System Interface", is a family of IEEE standard for operating systems that influences the design of many modern operating system (e.g. Linux, Windows NT, Mac). The propose of this standard is to maintain compatibility between operating system so that a user program uses POSIX api can be compiled properly on all POSIX compatible operating system.

    The POSIX standard defines a standard environment for operating system (process, user, file, directory, etc.) along with a set of APIs for user program (like fork, exec, I/O functions, etc.). Some file format standard (e.g. tar), some shell utilities (e.g. awk, vi) are also included in the standard. The propose of this standard is standard API for file and directory operations are defined in POSIX.1. 

\section{Fuse}

	FUSE, the Filesystem in User Space, is a develop framework for file system.  It has been adopted into the Linux kernel and have many ports on other Unix-like operating systems. FUSE provides a programming interface similar to POSIX file operations. A file system that implements this interface can adapt to kernel module VFS through FUSE and become transparent to user programs as if the file system is supported by operating system natively. By running the file system in user space, FUSE isolates the file system from operating system, so that developers of the file system do not need to understand complicated kernel code and debugging the kernel. It also enables a nonprivileged user to mount their own file system without influencing other uses.

\section{MongoDB}

    MongoDB is a document oriented NoSQL distributed database written in C++. It focuses on scalability, performance and availability. The document oriented storage that can store semi-structured data makes it very flexible and perfect for agile development. In addition, mongoDB also provides features like load balancing and replication. These features make mongoDB an ideal backend for a distributed file system. Developers have already built a file storage system called GridFS using mongoDB which provides a mechanism to store and retrieve file of any size.

\section{Snapshot Storage System}

    Snapshots are important features for a storage system. Existing works include LVM snapshot, SnapFS, OverlayFS, ZFS, BTRF and ext4.
The LVM snapshot is a snapshot system implemented in logic volume manager level. Its snapshot system take snapshot of the logic volume hence gives snapshots capability to any file system build upon it. However, as an underlying service, LVM snapshot isn’t aware of file structures, making it hard to find duplicate data stream and thus is less efficient in terms of disk space.
    
    SnapFS was a file system focusing on snapshots in Linux kernel. It is strongly coupled with its underlying ext2/3 file system. In this way SnapFS is able to apply copy-on-write strategy on block but restrict its underlying file system to ext filesystem family. 
    
    Similar to SnapFS, OverlayFS is also a file system concentrate on snapshots and it is built upon other file systems. OverlayFS is popular in embedded system with a lot flexibility since it does not agree with SnapFS and choose not interfere its underlying file system. It applies copy-on-write on files and directory level.
BTRFS is an experimental file system developed by Oracle. It is inspired by the well-known Solaris file system ZFS and shares a lot of similarity with ZFS. Both of them support copy-on-write writable snapshots at block level granularity.
    
    As of the latest version of ext file system, i.e. ext4, though it does not support snapshot when published, later announces copy-on-write snapshot support on 2011. The writable snapshot feature is also announced in 2012 but haven’t been merged to upstream.

\section{rsync}
    
    The rsync algorithm is well known for its implementation, the rsync utility software and protocol for unix-like system. This algorithm is proposed by Andrew Tridgell in his PhD thesis where he described it as “for the efficient update of data over a high latency and low bandwidth link“. In order to achieve such efficiency, the algorithm try to find duplicated data stream between files with O(1) time complexity. The algorithm performs well in the delta encoding and reduced the data transferred between remote machines.
